<div class="item-query">
    <form [formGroup]="form">
        <mat-form-field appearance="fill">
            <mat-label>Query</mat-label>
            <input matInput formControlName="query">
        </mat-form-field>
    </form>
    
    <table mat-table [dataSource]="filteredItems" *ngIf="filteredItems && filteredItems.length > 0">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let item">
                <div class="item-query__cell">
                    {{item.name}}
                </div>
            </td>
        </ng-container>
    
        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Description</th>
            <td mat-cell *matCellDef="let item">
                <div class="item-query__cell">
                    <span [innerHTML]="item.description"></span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef>Location</th>
            <td mat-cell *matCellDef="let item">
                <div class="item-query__cell">
                    <span [innerHTML]="item.location"></span>
                </div>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr [routerLink]="['../', row.alias]" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <div class="item-query__no-results" *ngIf="!filteredItems || filteredItems.length === 0">
        <p>No Results Found</p>
    </div>

    <button mat-raised-button color="primary" (click)="search()">Run Query</button>
</div>
